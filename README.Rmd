---
output: github_document
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%",
  cache = TRUE
)
```

# mregions2

<!-- badges: start -->
[![Funding](https://img.shields.io/static/v1?label=powered+by&message=lifewatch.be&labelColor=1a4e8a&color=f15922)](http://lifewatch.be)
[![Lifecycle:
experimental](https://img.shields.io/badge/lifecycle-experimental-orange.svg)](https://lifecycle.r-lib.org/articles/stages.html#experimental)
[![R-CMD-check](https://github.com/lifewatch/mregions2/actions/workflows/R-CMD-check.yaml/badge.svg)](https://github.com/lifewatch/mregions2/actions/workflows/R-CMD-check.yaml)
<!-- badges: end -->

mregions2 allows to access the [Marine Regions Gazetteer](https://marineregions.org/gazetteer.php) and the [Marine Regions Data Products](https://marineregions.org/sources.php) in R.

You can find detailed information in the vignettes:

* Introduction to mregions2: `vignette("mregions2")`
* Why mregions and mregions2?: `vignette("why_mregions2")`
* mregions2 as RDF: `vignette("mregions2-rdf")`

![](https://user-images.githubusercontent.com/54405067/156809171-1487bb9f-35af-4418-8e2f-93c24a59aad0.gif)

<sup>(Source: https://www.vliz.be/en/news?p=show&id=8160)</sup>

## Installation

You can install the development version of mregions2 from GitHub with:

``` r
# install.packages("devtools")
devtools::install_github("lifewatch/mregions2")
```

## Query the Marine Regions Gazetteer

The [Marine Regions Gazetteer](https://marineregions.org/gazetteer.php) is a standard list of marine georeferenced place names.

> Gazetteer: a dictionary of geographical names. 

<sup>https://www.thefreedictionary.com/gazetteer</sup>

You can search the Gazetteer in many ways:

```{r gaz1}
library(mregions2)

# Search by free text
gaz_search("Belgian")

# Search by unique identifier. See ?MRGID
gaz_search(3293)

# Search by location
gaz_search(x = 2.927, y = 51.21551)

# Search by placetype
gaz_search_by_type("EEZ")

# Search by source
gaz_search_by_source("Flanders Marine Institute (VLIZ)")
```

The list of place types and sources are available with `gaz_types()` and `gaz_sources()` respectively.

You can add the geometry of the Gazetteer entries with `gaz_geometry()`:

```{r gaz2}
# Get a record and turn into a sf object with geometry
gaz_search(3293) %>% gaz_geometry()

# Or get only the geometry 
gaz_geometry(3293, format = "sfc")
```

The entries of the Marine Regions Gazetteer are organized hierarchically. You can browse this hierarchy up and down with `gaz_relations()`

```{r gaz3}
# Get all relations
gaz_search(3293) %>% gaz_relations()

# Or get the relations directly
gaz_relations(3293)
```



## Marine Regions Data Products

In addition to the Marine Regions Gazetteer, the Marine Regions Team creates and hosts geographical Data Products, being the most popular one the [Marine Regions Maritime Boundaries](https://marineregions.org/eez.php).

An overview of all available products can be consulted with `mrp_list()`

```{r prod_list}
mrp_list()
```

You can visualize the Marine Regions Data Products with `mrp_view()`. It opens an interactive `leaflet::leaflet` viewer.

```{r prod1, eval=FALSE}
mrp_view("eez")
```
![](https://raw.githubusercontent.com/lifewatch/mregions2/main/man/figures/README-prod1-1.png)
Or you can load the data products into R with `mrp_get()`

```{r prod2}
mrp_get("eez")
```

Get to know more in `vignette("mregions2")`

## Citation
```{r citation, cache=FALSE}
citation("mregions2")
```

## License
MIT
